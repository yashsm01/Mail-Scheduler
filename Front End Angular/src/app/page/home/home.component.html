<div class="container">
    <div class="row">
        <div class="col-10">
            <div  style="display: flex; flex-direction: row;" *ngIf="!open">
                <div class="mx-2 my-4" ><input class="form-control" type="datetime-local" [(ngModel)]="start"></div>
                <div  class="mx-2 my-4"><input class="form-control" type="datetime-local" [(ngModel)]="end"></div>
                <div  class="mx-2 my-4">
                    <button mat-raised-button color="primary" style="width: 130px;" (click)="onfilter()">Filter</button></div>
                </div>
        </div>
        <div class="col-2">
           <div class="mx-2 my-4">
                <button mat-raised-button color="accent" style="width: 160px;" *ngIf="!open" (click)="add()">Add</button>
                <button mat-raised-button color="warn" style="width: 160px;" *ngIf="open" (click)="add()">Close</button>
        </div>
        </div>
    </div>
    <div class="row" *ngIf="open">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="Email">Email</label>
                <input type="email" formControlName="Email" class="form-control"  [ngClass]="{ 'is-invalid': submitted && loginForm.controls['Email'].errors }">
            </div>
            <div class="form-group">
                <label for="Subject">Subject</label>
                <input type="text" formControlName="Subject" class="form-control" [ngClass]="{ 'is-invalid': submitted && loginForm.controls['Subject'].errors }"/>
            </div>
            <div class="form-group">
                <label for="Message">Message</label>    
                <input type="text" formControlName="Message"  class="form-control" [ngClass]="{ 'is-invalid': submitted && loginForm.controls['Message'].errors }"/>
            </div>
            <div class="form-group">
                <label for="Time">Time</label>
                <input type="datetime-local" [min]="2022-09-20" formControlName="Time" class="form-control"/>
            </div>
            <div class="form-group my-2">
                <button  class="btn btn-primary">
                    Save
                </button>
            </div> 
            <!-- <div *ngIf="message != ''">{{message}}</div> -->
        </form> 
    </div>
    <div class="row"  *ngIf="!open">
        <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSource">
          
              <!-- Position Column -->
              <ng-container matColumnDef="Email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let element"> {{element.Email}} </td>
              </ng-container>
          
              <!-- Name Column -->
              <ng-container matColumnDef="Subject">
                <th mat-header-cell *matHeaderCellDef> Subject </th>
                <td mat-cell *matCellDef="let element"> {{element.Subject}} </td>
              </ng-container>
          
              <!-- Weight Column -->
              <ng-container matColumnDef="Message">
                <th mat-header-cell *matHeaderCellDef> Message </th>
                <td mat-cell *matCellDef="let element"> {{element.Message}} </td>
              </ng-container>
          
              <!-- Symbol Column -->
              <ng-container matColumnDef="Time">
                <th mat-header-cell *matHeaderCellDef> Schedule Time </th>
                <td mat-cell *matCellDef="let element"> {{element.Time}} </td>
              </ng-container>
          
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
          
            <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                           showFirstLastButtons 
                           aria-label="Select page of periodic elements">
            </mat-paginator>
          </div>
    </div>
</div>